# 🎨 UI界面更新说明

## 更新概述

根据专业UI设计文档，已重新设计并实现了**三段式专业布局**的界面版本。

## 版本对比

### 📱 简洁版 (main_window.py)

**适用场景：** 快速审查单个合同，适合新手用户

**布局特点：**
- 垂直布局，操作流程清晰
- 三步骤：选择文件 → 设置参数 → 查看结果
- 拖放上传，简单直观

**界面结构：**
```
┌────────────────────────────────┐
│     标题：合同审查小助手         │
├────────────────────────────────┤
│  1. 文件拖放区域                │
│  2. 参数设置（身份、类型、关注点）│
│  3. 开始审查按钮                │
│  4. 进度条                      │
│  5. 结果显示区域                │
└────────────────────────────────┘
```

### 💼 专业版 (main_window_pro.py)

**适用场景：** 批量审查，专业分析，适合熟练用户

**布局特点：**
- 三段式水平布局（左侧-中间-右侧）
- 支持批量文件管理
- 可与AI律师对话交互
- 实时显示审查进度

**界面结构：**
```
┌──────────┬──────────────┬────────────────┐
│ 左侧栏   │ 中间配置区   │ 右侧AI交互区   │
│ [文件管理]│ [审查配置]   │ [AI审查意见]  │
│ • 批量上传│ • 身份选择   │ 实时Markdown  │
│ • 文件列表│ • 审查要点   │ 显示          │
│ • 模型切换│ • 原文展示   │ [与AI对话]    │
│          │ • 开始审查   │ [导出报告]    │
└──────────┴──────────────┴────────────────┘
```

## 🎯 专业版详细功能

### 左侧导航栏 (280px宽)

**1. 文件管理区域**
- 📂 **批量上传按钮**：支持多选文件
- 📋 **文件列表**：显示所有上传的文件
  - 状态图标：⏳待处理、🔄处理中、✅已完成、❌错误
  - 点击选择文件进行审查

**2. 模型选择**
- 🏠 **本地Qwen2.5**：保护隐私，离线使用
- ☁️ **GPT-4 API**：云端模型，能力更强
- 一键切换，立即生效

**3. 帮助按钮**
- ❓ **使用帮助**：快速入门指南

### 中间配置与原文区

**1. 审查配置面板**
- 👤 **我方身份**：甲方/乙方选择
- 📋 **合同类型**：输入合同类型
- 💡 **核心关注**：输入审查重点

**2. 审查要点清单**
- 📊 AI生成的审查要点
- ✅ 可勾选/取消审查项目
- 滚动查看所有要点

**3. 原文视图**
- 📄 显示合同原文内容
- 🔍 支持高亮显示问题条款
- 等宽字体，便于阅读

**4. 开始审查按钮**
- 🚀 大按钮，易于点击
- 启动AI审查流程

### 右侧AI交互区

**1. AI律师审查意见**
- 🤖 实时显示审查结果
- 📝 Markdown格式渲染
- 🎯 结构化展示：
  - 核心风险提示
  - 修改方案对比
  - 其他建议

**2. 与AI律师对话**
- 💬 输入框：补充问题或要求
- 🔄 实时交互：AI动态更新审查意见
- 示例问题：
  - "请补充审查保密条款"
  - "这个违约金比例是否合理？"

**3. 导出功能**
- 📥 **导出报告**：一键保存Word报告
- 📊 包含完整的审查意见和修改建议

**4. 进度显示**
- 📊 进度条：实时显示审查进度
- 📈 百分比：精确到每个步骤

## 🎨 视觉设计

### 配色方案

| 元素 | 颜色 | 用途 |
|------|------|------|
| 主色调 | #4CAF50 (绿色) | 主要按钮、成功状态 |
| 强调色 | #2196F3 (蓝色) | 链接、选中状态 |
| 警告色 | #FF9800 (橙色) | 导出按钮 |
| 错误色 | #F44336 (红色) | 错误提示 |
| 背景色 | #f5f5f5 (浅灰) | 左侧栏背景 |
| 卡片色 | #ffffff (白色) | 主要内容区 |

### 字体规范

- 标题：16-24px，加粗
- 正文：13-14px，常规
- 代码/原文：12px，等宽字体

### 圆角和间距

- 卡片圆角：5px
- 按钮圆角：5-8px
- 组件间距：10-15px
- 内边距：10-15px

## 🚀 使用流程

### 简洁版流程

```
1. 拖放文件 → 界面提示"已选择文件"
   ↓
2. 填写参数 → 身份、类型、关注点
   ↓
3. 点击"开始审查" → 显示进度
   ↓
4. 查看结果 → Markdown格式显示
   ↓
5. 打开报告 → 保存的Word文档
```

### 专业版流程

```
1. 批量上传 → 添加多个合同到列表
   ↓
2. 选择文件 → 点击列表中的文件
   ↓
3. 配置审查 → 身份、类型、关注点
   ↓
4. 查看要点 → AI生成的审查清单（可勾选）
   ↓
5. 开始审查 → 实时显示进度和结果
   ↓
6. 对话交互 → 补充问题，AI更新分析
   ↓
7. 导出报告 → 保存完整Word报告
```

## 💡 使用技巧

### 专业版技巧

1. **批量审查**
   - 一次上传多个合同
   - 逐个点击审查
   - 提高工作效率

2. **与AI对话**
   - 审查完成后可补充问题
   - 例如："请详细分析第3条"
   - AI会更新审查意见

3. **审查要点**
   - 查看AI生成的审查清单
   - 取消不需要的审查项
   - 精准控制审查范围

4. **原文对照**
   - 左侧显示原文
   - 右侧显示修改建议
   - 对比查看，一目了然

## 🔄 启动方式

### 方式1：使用启动器（推荐）

```bash
python start.py
```

会弹出版本选择对话框，选择简洁版或专业版。

### 方式2：直接启动

```bash
# 简洁版
python main_window.py

# 专业版
python main_window_pro.py
```

### 方式3：使用独立启动器

```bash
python launch.py
```

## 📊 性能优化

- 使用QThread异步处理，UI不卡顿
- 流式显示AI输出，实时反馈
- 文件状态缓存，快速切换
- 懒加载原文，按需显示

## 🎯 未来增强

- [ ] 添加主题切换（深色模式）
- [ ] 支持自定义审查模板
- [ ] 添加审查历史记录
- [ ] 支持对比视图（Diff View）
- [ ] 添加思维导图展示审查要点
- [ ] 支持批量导出

## 🐛 已知问题

1. **Markdown渲染**：当前使用基础渲染，可能考虑引入专业库
2. **高亮显示**：原文高亮功能待完善
3. **AI对话**：目前为模拟功能，需完善后端

## 📝 开发笔记

### 主要技术

- **PySide6**：Qt6 for Python
- **QThread**：异步处理
- **QSplitter**：可调整的分割布局
- **Markdown**：基础文本格式化

### 架构设计

- 模块化组件：独立的Widget类
- 信号槽机制：松耦合的事件通信
- 工厂模式：支持多种文档格式
- 状态管理：文件状态追踪

---

**更新日期：** 2025-01-17
**版本：** v2.0 - 专业UI布局
